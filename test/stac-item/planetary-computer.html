<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    <style>
      #map {
        bottom: 0;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="/dist/stac-layer.min.js" type="module"></script>
    <script type="module">
      // initalize leaflet map
      const map = L.map('map').setView([0, 0], 5);

      // add OpenStreetMap basemap
      L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
      }).addTo(map);


      const feature = {"id":"gap_landfire_nationalterrestrialecosystems2011_-1161135_562215_-861135_262215","bbox":[-107.72088778830222,24.767892497580533,-104.44349965559083,27.771288792112703],"type":"Feature","links":[{"rel":"collection","type":"application/json","href":"https://planetarycomputer.microsoft.com/api/stac/v1/collections/gap"},{"rel":"parent","type":"application/json","href":"https://planetarycomputer.microsoft.com/api/stac/v1/collections/gap"},{"rel":"root","type":"application/json","href":"https://planetarycomputer.microsoft.com/api/stac/v1/"},{"rel":"self","type":"application/geo+json","href":"https://planetarycomputer.microsoft.com/api/stac/v1/collections/gap/items/gap_landfire_nationalterrestrialecosystems2011_-1161135_562215_-861135_262215"},{"rel":"alternate","type":"application/json","title":"tiles","href":"https://planetarycomputer.microsoft.com/api/stac/v1/collections/gap/items/gap_landfire_nationalterrestrialecosystems2011_-1161135_562215_-861135_262215/tiles"},{"rel":"preview","href":"https://planetarycomputer.microsoft.com/api/data/v1/item/map?collection=gap&item=gap_landfire_nationalterrestrialecosystems2011_-1161135_562215_-861135_262215","title":"Map of item","type":"text/html"}],"assets":{"data":{"href":"https://ai4edataeuwest.blob.core.windows.net/usgs-gap/conus/gap_landfire_nationalterrestrialecosystems2011_-1161135_562215_-861135_262215.tif","type":"image/tiff; application=geotiff; profile=cloud-optimized","roles":["data"],"title":"GeoTIFF data"},"tilejson":{"title":"TileJSON with default rendering","href":"https://planetarycomputer.microsoft.com/api/data/v1/item/tilejson.json?collection=gap&items=gap_landfire_nationalterrestrialecosystems2011_-1161135_562215_-861135_262215&assets=data&tile_format=png&colormap_name=gap-lulc","type":"application/json","roles":["tiles"]},"rendered_preview":{"title":"Rendered preview","rel":"preview","href":"https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=gap&items=gap_landfire_nationalterrestrialecosystems2011_-1161135_562215_-861135_262215&assets=data&tile_format=png&colormap_name=gap-lulc","roles":["overview"],"type":"image/png"}},"geometry":{"type":"Polygon","coordinates":[[[-104.44349966,25.05312999],[-104.71244096,27.77128879],[-107.72088779,27.47944787],[-107.36064827,24.7678925],[-104.44349966,25.05312999]]]},"collection":"gap","properties":{"datetime":"2011-12-31T00:00:00Z","proj:wkt2":"PROJCS[\"NAD83 / Conus Albers\",GEOGCS[\"NAD83\",DATUM[\"North_American_Datum_1983\",SPHEROID[\"GRS 1980\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"6269\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4269\"]],PROJECTION[\"Albers_Conic_Equal_Area\"],PARAMETER[\"latitude_of_center\",23],PARAMETER[\"longitude_of_center\",-96],PARAMETER[\"standard_parallel_1\",29.5],PARAMETER[\"standard_parallel_2\",45.5],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"5070\"]]","label:type":"raster","proj:shape":[10000,10000],"end_datetime":"2011-12-31T00:00:00+00:00","proj:transform":[30,0,-1161135,0,-30,562215,0,0,1],"start_datetime":"2010-01-01T00:00:00+00:00","label:description":"USGS GAP/LANDFIRE"},"stac_version":"1.0.0","stac_extensions":["https://stac-extensions.github.io/projection/v1.0.0/schema.json","https://stac-extensions.github.io/label/v1.0.0/schema.json"]};

      (async () => {
        const lyr = await L.stacLayer(feature, { debugLevel: 2 });
        lyr.on('click', console.log);
        lyr.addTo(map);
        map.fitBounds(lyr.getBounds());
      })();
    </script>
  </body>
</html>